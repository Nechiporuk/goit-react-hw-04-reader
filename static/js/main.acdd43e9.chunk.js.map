{"version":3,"sources":["components/Counter/Counter.module.css","components/Publication/Publications.module.css","components/Counter/Counter.js","components/Controls/Controls.js","components/Publication/Publication.js","components/Reader/Reader.js","components/App/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Counter","lastPage","currentPage","className","styles","counter","Controls","onIncrement","onDecrement","controls","type","disabled","button","onClick","Publication","publication","title","text","Reader","state","pageNumber","handleIncrement","history","props","push","pathname","search","setState","prevState","handleDecrement","this","location","parsedQuery","qs","parse","item","publications","length","replace","Number","items","totalPublications","reader","Component","App","path","render","to","ReactDOM","document","getElementById"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,YAAc,oC,6OCiBjBC,EAdC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,YAC3B,OACE,yBAAKC,UAAWC,IAAOC,SACrB,2BACGH,EADH,IACiBD,K,gBC0BRK,EA9BE,SAAC,GAAyD,IAAvDC,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,YAAaN,EAA4B,EAA5BA,YAAaD,EAAe,EAAfA,SACzD,OACE,6BAASE,UAAWC,IAAOK,UACzB,4BACEC,KAAK,SACLC,SAA0B,IAAhBT,EACVC,UAAWC,IAAOQ,OAClBC,QAASL,GAJX,kCAQA,4BACEE,KAAK,SACLC,SAAUT,IAAgBD,EAC1BE,UAAWC,IAAOQ,OAClBC,QAASN,GAJX,0C,iBCGSO,EAdK,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OAClB,6BAASZ,UAAWC,IAAOW,aACzB,4BAAKA,EAAYC,OACjB,2BAAID,EAAYE,Q,mPCECC,E,2MAmBnBC,MAAQ,CACNC,WAAY,G,EAyBdC,gBAAkB,WAAO,IACfC,EAAY,EAAKC,MAAjBD,QACAF,EAAe,EAAKD,MAApBC,WAERE,EAAQE,KAAK,CACXC,SAAU,UACVC,OAAO,SAAD,OAAWN,EAAa,KAEhC,EAAKO,UAAS,SAAAC,GAAS,MAAK,CAAER,WAAYQ,EAAUR,WAAa,O,EAGnES,gBAAkB,WAAO,IACfP,EAAY,EAAKC,MAAjBD,QACAF,EAAe,EAAKD,MAApBC,WAERE,EAAQE,KAAK,CACXC,SAAU,UACVC,OAAO,SAAD,OAAWN,EAAa,KAEhC,EAAKO,UAAS,SAAAC,GAAS,MAAK,CAAER,WAAYQ,EAAUR,WAAa,O,mFAzC9C,IAAD,EACYU,KAAKP,MAA3BQ,EADU,EACVA,SAAUT,EADA,EACAA,QACZU,EAAcC,IAAGC,MAAMH,EAASL,QAAQS,KAE5CH,EAAc,GACdA,EAAcI,EAAaC,QAC3BL,GAAe,EAEfV,EAAQgB,Q,yVAAR,IACKP,EADL,CAEEL,OAAQ,YAKRM,GACFF,KAAKH,SAAS,CACZP,WAAYmB,OAAOP,O,+BA2Bf,IACAZ,EAAeU,KAAKX,MAApBC,WACAoB,EAAUV,KAAKP,MAAfiB,MACFC,EAAoBD,EAAMH,OAChC,OACE,yBAAKlC,UAAWC,IAAOsC,QACrB,kBAAC,EAAD,CACEnC,YAAauB,KAAKT,gBAClBb,YAAasB,KAAKD,gBAClB3B,YAAakB,EACbnB,SAAUwC,IAEZ,kBAAC,EAAD,CAASxC,SAAUwC,EAAmBvC,YAAakB,IACnD,kBAAC,EAAD,CACEL,YAAayB,EAAMpB,EAAa,GAChClB,YAAakB,S,GAlFauB,aCiBrBC,EArBH,WACV,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,UACLC,OAAQ,SAAAvB,GAAK,OAAI,kBAAC,EAAD,iBAAYA,EAAZ,CAAmBiB,MAAOJ,QAE7C,kBAAC,IAAD,CACEW,GAAI,CACFtB,SAAU,UACVC,OAAQ,iB,MCZtBsB,IAASF,OAAO,kBAAC,EAAD,MAASG,SAASC,eAAe,U,qkgBCJjDpD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,SAAW,8B","file":"static/js/main.acdd43e9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__1NO5r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publications_publication__2I-p0\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Counter.module.css';\n\nconst Counter = ({ lastPage, currentPage }) => {\n  return (\n    <div className={styles.counter}>\n      <p>\n        {currentPage}/{lastPage}\n      </p>\n    </div>\n  );\n};\n\nCounter.propTypes = {\n  lastPage: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ onIncrement, onDecrement, currentPage, lastPage }) => {\n  return (\n    <section className={styles.controls}>\n      <button\n        type=\"button\"\n        disabled={currentPage === 1}\n        className={styles.button}\n        onClick={onDecrement}\n      >\n        Назад\n      </button>\n      <button\n        type=\"button\"\n        disabled={currentPage === lastPage}\n        className={styles.button}\n        onClick={onIncrement}\n      >\n        Вперед\n      </button>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  onIncrement: PropTypes.func.isRequired,\n  onDecrement: PropTypes.func.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  lastPage: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publications.module.css';\n\nconst Publication = ({ publication }) => (\n  <article className={styles.publication}>\n    <h1>{publication.title}</h1>\n    <p>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React, { Component } from 'react';\nimport qs from 'query-string';\nimport PropTypes from 'prop-types';\nimport publications from '../../data/publications.json';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport Publication from '../Publication/Publication';\nimport styles from './Reader.module.css';\n\nexport default class Reader extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        text: PropTypes.string.isRequired,\n      }).isRequired,\n    ).isRequired,\n    location: PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired,\n    }).isRequired,\n  };\n\n  state = {\n    pageNumber: 3,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const parsedQuery = qs.parse(location.search).item;\n    if (\n      parsedQuery < 1 ||\n      parsedQuery > publications.length ||\n      parsedQuery <= 0\n    ) {\n      history.replace({\n        ...location,\n        search: 'item=1',\n      });\n      return;\n    }\n\n    if (parsedQuery) {\n      this.setState({\n        pageNumber: Number(parsedQuery),\n      });\n    }\n  }\n\n  handleIncrement = () => {\n    const { history } = this.props;\n    const { pageNumber } = this.state;\n\n    history.push({\n      pathname: '/reader',\n      search: `?item=${pageNumber + 1}`,\n    });\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber + 1 }));\n  };\n\n  handleDecrement = () => {\n    const { history } = this.props;\n    const { pageNumber } = this.state;\n\n    history.push({\n      pathname: '/reader',\n      search: `?item=${pageNumber - 1}`,\n    });\n    this.setState(prevState => ({ pageNumber: prevState.pageNumber - 1 }));\n  };\n\n  render() {\n    const { pageNumber } = this.state;\n    const { items } = this.props;\n    const totalPublications = items.length;\n    return (\n      <div className={styles.reader}>\n        <Controls\n          onIncrement={this.handleIncrement}\n          onDecrement={this.handleDecrement}\n          currentPage={pageNumber}\n          lastPage={totalPublications}\n        />\n        <Counter lastPage={totalPublications} currentPage={pageNumber} />\n        <Publication\n          publication={items[pageNumber - 1]}\n          currentPage={pageNumber}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Reader from '../Reader/Reader';\nimport publications from '../../data/publications.json';\n\nconst App = () => {\n  return (\n    <>\n      <BrowserRouter>\n        <Switch>\n          <Route\n            path=\"/reader\"\n            render={props => <Reader {...props} items={publications} />}\n          />\n          <Redirect\n            to={{\n              pathname: '/reader',\n              search: '?item=1',\n            }}\n          />\n        </Switch>\n      </BrowserRouter>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport 'normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2cDgS\",\"button\":\"Controls_button__2lZwx\",\"disabled\":\"Controls_disabled__2sa6l\"};"],"sourceRoot":""}